<script>
  // 1. Initialize the map
  const map = L.map("map").setView([41.024893, 28.958593], 17);

  // ðŸ”µ 2. Ask for user location + blue dot
  map.locate({ setView: true, maxZoom: 17 });

  map.on("locationfound", (e) => {
    L.circleMarker(e.latlng, {
      radius: 8,
      color: "#136AEC",
      fillColor: "#2A93EE",
      fillOpacity: 0.9
    }).addTo(map).bindPopup("You are here");
  });

  map.on("locationerror", () => {
    console.log("Location access denied.");
  });

  // 3. Add OSM tiles
  L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
    maxZoom: 19,
    attribution: "&copy; OpenStreetMap contributors"
  }).addTo(map);

  // 4. Load calm places
  fetch("points.json")
    .then(response => response.json())
    .then(data => {
      data.forEach(place => {
        L.marker([place.lat, place.lng])
          .addTo(map)
          .bindPopup(`<b>${place.name}</b>`);
      });
    })
    .catch(err => console.error("points.json error:", err));
</script>
