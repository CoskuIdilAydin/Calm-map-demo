<script>
  // Your fixed starting point
  const defaultLocation = [41.024893, 28.958593];

  // 1. Create the map (start at your default location)
  const map = L.map("map").setView(defaultLocation, 17);

  // 2. Try to get user location
  map.locate({ setView: false, maxZoom: 17 });

  // 3. If user allows location ‚Üí show blue dot at their position
  map.on("locationfound", (e) => {
    const userLocation = e.latlng;

    map.setView(userLocation, 17);

    L.circleMarker(userLocation, {
      radius: 10,
      color: "#136AEC",
      fillColor: "#2A93EE",
      fillOpacity: 1
    })
    .addTo(map)
    .bindPopup("üìç You are here")
    .openPopup();
  });

  // 4. If user DENIES location ‚Üí use your starting point instead
  map.on("locationerror", () => {
    console.log("User denied location. Using default point.");

    L.circleMarker(defaultLocation, {
      radius: 10,
      color: "#136AEC",
      fillColor: "#2A93EE",
      fillOpacity: 1
    })
    .addTo(map)
    .bindPopup("üìç Default starting point")
    .openPopup();
  });

  // 5. Base map
  L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
    maxZoom: 19,
    attribution: "&copy; OpenStreetMap contributors"
  }).addTo(map);
</script>
